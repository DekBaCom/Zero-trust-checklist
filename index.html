<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zero Trust Hub & Assessment Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        msBlue: '#0078D4',
                        msDark: '#242424',
                        bgLight: '#f0f2f5',
                        brandBiz: '#7719aa', /* ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Business Premium */
                    },
                    fontFamily: {
                        sans: ['"Segoe UI"', 'Roboto', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #f0f2f5; }
        .glass-card {
            background: white;
            border: 1px solid rgba(229, 231, 235, 0.5);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        .glass-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        /* Interactive Option Cards */
        .option-card { cursor: pointer; transition: all 0.2s; border: 2px solid transparent; }
        .option-card:hover { background-color: #eff6fc; border-color: #c7e0f4; }
        .option-card.selected { border-color: #0078D4; background-color: #e5f1fb; position: relative; }
        .option-card.selected::after {
            content: '\f00c'; font-family: 'Font Awesome 6 Free'; font-weight: 900;
            position: absolute; top: 10px; right: 10px; color: #0078D4;
        }

        .hidden-view { display: none; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Navigation Tabs */
        .nav-tab.active { color: #0078D4; border-bottom: 2px solid #0078D4; }
        .nav-tab { color: #64748b; border-bottom: 2px solid transparent; }
        
        /* Table Formatting */
        th, td { white-space: nowrap; }
    </style>
</head>
<body class="text-slate-800 flex flex-col min-h-screen">

    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-3">
                    <div class="bg-msBlue text-white p-2 rounded-lg">
                        <i class="fa-brands fa-microsoft text-xl"></i>
                    </div>
                    <div>
                        <h1 class="font-bold text-lg text-slate-700 leading-tight">Zero Trust Hub</h1>
                        <p class="text-xs text-slate-500">Resource & Assessment Center</p>
                    </div>
                </div>
                
                <div class="hidden md:flex space-x-8 h-full">
                    <button onclick="switchView('hub')" id="tab-hub" class="nav-tab active h-full px-4 font-semibold text-sm flex items-center gap-2">
                        <i class="fa-solid fa-book-open"></i> Resource Hub
                    </button>
                    <button onclick="switchView('assessment')" id="tab-assessment" class="nav-tab h-full px-4 font-semibold text-sm flex items-center gap-2">
                        <i class="fa-solid fa-chart-pie"></i> Gap Analysis Tool
                    </button>
                </div>

                <a href="https://learn.microsoft.com/en-us/security/zero-trust/" target="_blank" class="hidden md:flex items-center text-xs font-bold text-msBlue bg-blue-50 px-3 py-1 rounded-full hover:bg-blue-100 transition">
                    Microsoft Learn <i class="fa-solid fa-external-link-alt ml-2"></i>
                </a>
            </div>
        </div>
        <div class="md:hidden flex border-t border-gray-100">
            <button onclick="switchView('hub')" id="mob-tab-hub" class="flex-1 py-3 text-center text-sm font-semibold text-msBlue bg-blue-50">Hub</button>
            <button onclick="switchView('assessment')" id="mob-tab-assessment" class="flex-1 py-3 text-center text-sm font-semibold text-slate-500">Assessment</button>
        </div>
    </nav>

    <main class="flex-grow">
        
        <div id="view-hub" class="fade-in">
            <div class="bg-slate-800 text-white py-12">
                <div class="max-w-7xl mx-auto px-4 text-center">
                    <h2 class="text-3xl font-bold mb-4">Zero Trust Architecture</h2>
                    <p class="text-slate-300 max-w-2xl mx-auto mb-6">
                        Verify Explicitly ‚Ä¢ Use Least Privilege Access ‚Ä¢ Assume Breach
                    </p>
                    <div class="flex justify-center gap-3 text-xs font-semibold">
                        <span class="px-3 py-1 bg-brandBiz/20 border border-brandBiz/50 text-purple-200 rounded-full">Business Premium (SME)</span>
                        <span class="px-3 py-1 bg-msBlue/20 border border-msBlue/50 text-blue-200 rounded-full">Enterprise E3/E5</span>
                    </div>
                </div>
            </div>

            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
                <div id="cards-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12"></div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8">
                    <div class="p-6 border-b border-gray-100 bg-slate-50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                        <div>
                            <h3 class="text-xl font-bold text-slate-800">üìä Plan Comparison: Business vs Enterprise</h3>
                            <p class="text-sm text-slate-500">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Plan ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Zero Trust</p>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left border-collapse">
                            <thead>
                                <tr class="bg-gray-50 border-b border-gray-200">
                                    <th class="px-6 py-4 font-bold text-slate-600 w-1/4">Capability / Feature</th>
                                    <th class="px-6 py-4 text-center border-l border-r border-gray-200 bg-purple-50 w-1/4">
                                        <div class="font-bold text-brandBiz">Business Premium</div>
                                        <div class="text-xs text-slate-500 font-normal mt-1">Best for SMEs (< 300 users)</div>
                                    </th>
                                    <th class="px-6 py-4 text-center border-r border-gray-200 w-1/4">
                                        <div class="font-bold text-slate-700">Enterprise E3</div>
                                        <div class="text-xs text-slate-500 font-normal mt-1">Standard Enterprise</div>
                                    </th>
                                    <th class="px-6 py-4 text-center bg-blue-50 w-1/4">
                                        <div class="font-bold text-msBlue">Enterprise E5</div>
                                        <div class="text-xs text-slate-500 font-normal mt-1">Full Zero Trust Suite</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-slate-700">Identity Security</td>
                                    <td class="px-6 py-4 text-center border-l border-r border-gray-200">Entra ID P1 (MFA)</td>
                                    <td class="px-6 py-4 text-center border-r border-gray-200">Entra ID P1 (MFA)</td>
                                    <td class="px-6 py-4 text-center bg-blue-50/20 font-bold text-green-600">Entra ID P2 (Risk-AI)</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-slate-700">Endpoint Protection</td>
                                    <td class="px-6 py-4 text-center border-l border-r border-gray-200 font-semibold text-green-600">Defender for Business (EDR) <span class="text-xs bg-green-100 text-green-800 px-1 rounded">Better than E3</span></td>
                                    <td class="px-6 py-4 text-center border-r border-gray-200 text-slate-500">Defender P1 (AV Only)</td>
                                    <td class="px-6 py-4 text-center bg-blue-50/20 font-bold text-green-600">Defender P2 (Full EDR)</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-slate-700">Device Management</td>
                                    <td class="px-6 py-4 text-center border-l border-r border-gray-200 text-green-600"><i class="fa-solid fa-check"></i> Intune</td>
                                    <td class="px-6 py-4 text-center border-r border-gray-200 text-green-600"><i class="fa-solid fa-check"></i> Intune</td>
                                    <td class="px-6 py-4 text-center bg-blue-50/20 text-green-600"><i class="fa-solid fa-check"></i> Intune</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-slate-700">Data Protection</td>
                                    <td class="px-6 py-4 text-center border-l border-r border-gray-200">Azure Info Protection (P1)</td>
                                    <td class="px-6 py-4 text-center border-r border-gray-200">Azure Info Protection (P1)</td>
                                    <td class="px-6 py-4 text-center bg-blue-50/20 font-bold text-green-600">Auto-Labeling (P2)</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-slate-700">On-prem AD Security</td>
                                    <td class="px-6 py-4 text-center border-l border-r border-gray-200 text-red-400"><i class="fa-solid fa-xmark"></i> Not Included</td>
                                    <td class="px-6 py-4 text-center border-r border-gray-200 text-red-400"><i class="fa-solid fa-xmark"></i> Not Included</td>
                                    <td class="px-6 py-4 text-center bg-blue-50/20 font-bold text-green-600">Defender for Identity</td>
                                </tr>
                                <tr class="bg-gray-50 font-bold text-xs uppercase">
                                    <td class="px-6 py-4">Est. Price / User / Month</td>
                                    <td class="px-6 py-4 text-center border-l border-r border-gray-200 text-brandBiz text-base">~$22.00</td>
                                    <td class="px-6 py-4 text-center border-r border-gray-200 text-slate-600 text-base">~$36.00</td>
                                    <td class="px-6 py-4 text-center bg-blue-50/20 text-msBlue text-base">~$57.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-assessment" class="hidden-view max-w-4xl mx-auto px-4 py-10 fade-in">
            <div class="text-center mb-10">
                <span class="bg-blue-100 text-msBlue px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider">Gap Analysis</span>
                <h2 class="text-3xl font-bold text-slate-800 mt-3">Security Assessment Tool</h2>
                <p class="text-slate-500 mt-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ License ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</p>
            </div>

            <div id="assessment-form" class="space-y-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="font-bold text-lg mb-4">1. License ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('license', 'none', this)">
                            <div class="font-bold text-slate-700">None / Basic</div>
                            <div class="text-xs text-slate-500 mt-1">‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏î / Google / E1</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('license', 'biz', this)">
                            <div class="font-bold text-brandBiz">Business Prem.</div>
                            <div class="text-xs text-slate-500 mt-1">SME Security Suite</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('license', 'e3', this)">
                            <div class="font-bold text-slate-700">M365 E3</div>
                            <div class="text-xs text-slate-500 mt-1">Enterprise Std</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('license', 'e5', this)">
                            <div class="font-bold text-msBlue">M365 E5</div>
                            <div class="text-xs text-slate-500 mt-1">Full Zero Trust</div>
                        </div>
                    </div>
                    <input type="hidden" id="input-license">
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="font-bold text-lg mb-4">2. ‡∏£‡∏∞‡∏ö‡∏ö Identity (AD)?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('identity', 'onprem', this)">
                            <div class="font-bold text-slate-700">On-prem AD</div>
                            <div class="text-xs text-slate-500 mt-1">Server ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('identity', 'hybrid', this)">
                            <div class="font-bold text-slate-700">Hybrid Identity</div>
                            <div class="text-xs text-slate-500 mt-1">Sync ‡∏Ç‡∏∂‡πâ‡∏ô Cloud ‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('identity', 'cloud', this)">
                            <div class="font-bold text-slate-700">Cloud Only</div>
                            <div class="text-xs text-slate-500 mt-1">Cloud 100%</div>
                        </div>
                    </div>
                    <input type="hidden" id="input-identity">
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="font-bold text-lg mb-4">3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Endpoint?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('endpoint', 'legacy', this)">
                            <div class="font-bold text-slate-700">Legacy Antivirus</div>
                            <div class="text-xs text-slate-500 mt-1">‡πÉ‡∏ä‡πâ‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏≠‡∏∑‡πà‡∏ô / ‡πÅ‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('endpoint', 'defender', this)">
                            <div class="font-bold text-slate-700">Microsoft Defender</div>
                            <div class="text-xs text-slate-500 mt-1">Defender for Endpoint / Biz</div>
                        </div>
                    </div>
                    <input type="hidden" id="input-endpoint">
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="font-bold text-lg mb-4">4. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('access', 'vpn', this)">
                            <div class="font-bold text-slate-700">VPN</div>
                            <div class="text-xs text-slate-500 mt-1">Connect VPN</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('access', 'none', this)">
                            <div class="font-bold text-slate-700">Public IP</div>
                            <div class="text-xs text-slate-500 mt-1">Forward Port (Unsafe)</div>
                        </div>
                        <div class="option-card border rounded-lg p-4" onclick="selectOption('access', 'ztna', this)">
                            <div class="font-bold text-slate-700">Zero Trust / Web</div>
                            <div class="text-xs text-slate-500 mt-1">App Proxy / ZTNA</div>
                        </div>
                    </div>
                    <input type="hidden" id="input-access">
                </div>

                <div class="text-center">
                    <button onclick="calculateGap()" class="bg-msBlue text-white px-8 py-3 rounded-full font-bold text-lg shadow-lg hover:bg-blue-700 transition transform hover:scale-105">
                        <i class="fa-solid fa-wand-magic-sparkles mr-2"></i> Analyze Result
                    </button>
                </div>
            </div>

            <div id="result-section" class="hidden-view mt-8">
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden">
                    <div class="bg-slate-800 text-white p-6 flex justify-between items-center">
                        <div>
                            <h2 class="text-xl font-bold">Analysis Result</h2>
                            <p class="text-sm text-slate-400">Based on Microsoft Zero Trust Framework</p>
                        </div>
                        <button onclick="resetAssessment()" class="text-xs bg-slate-700 px-3 py-1 rounded hover:bg-slate-600">Re-assess</button>
                    </div>
                    
                    <div class="p-6">
                         <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6">
                            <p id="summary-text" class="text-yellow-800 font-medium"></p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="font-bold text-slate-500 text-sm uppercase mb-3 border-b pb-2">‚úÖ Current State</h4>
                                <ul id="list-have" class="space-y-2 text-sm text-slate-600"></ul>
                            </div>
                            <div>
                                <h4 class="font-bold text-msBlue text-sm uppercase mb-3 border-b pb-2">üöÄ Recommendations (Gaps)</h4>
                                <ul id="list-need" class="space-y-2 text-sm"></ul>
                            </div>
                        </div>
                        
                        <div class="mt-8 bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col md:flex-row justify-between items-center gap-4">
                            <div>
                                <div class="text-xs text-slate-500 uppercase font-bold">Recommended Solution</div>
                                <div id="license-rec-title" class="text-lg font-bold text-msBlue"></div>
                                <a href="https://learn.microsoft.com/en-us/microsoft-365/business-premium/" target="_blank" class="text-xs text-msBlue hover:underline mt-1 inline-block">See Plan Details <i class="fa-solid fa-arrow-right"></i></a>
                            </div>
                            <div class="text-right">
                                <div class="text-xs text-slate-500">Est. Price</div>
                                <div id="license-price" class="text-lg font-bold text-slate-800"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-slate-800 text-slate-400 py-6 mt-auto text-center text-sm border-t border-slate-700">
        <p>&copy; <span id="year"></span> by Mr.Abdulloh Etaeluengoh. All rights reserved.</p>
        <p class="mt-1 text-xs text-slate-500">
            Reference: <a href="https://learn.microsoft.com/en-us/security/zero-trust/" class="hover:text-white underline">Microsoft Zero Trust Guidance</a>
        </p>
    </footer>

    <script>
        document.getElementById('year').textContent = new Date().getFullYear();

        // View Switching Logic
        function switchView(viewName) {
            document.getElementById('view-hub').classList.add('hidden-view');
            document.getElementById('view-assessment').classList.add('hidden-view');
            document.getElementById('view-' + viewName).classList.remove('hidden-view');

            document.getElementById('tab-hub').classList.remove('active');
            document.getElementById('tab-assessment').classList.remove('active');
            document.getElementById('tab-' + viewName).classList.add('active');

            // Mobile tab sync
            if(viewName === 'hub') {
                document.getElementById('mob-tab-hub').className = "flex-1 py-3 text-center text-sm font-semibold text-msBlue bg-blue-50";
                document.getElementById('mob-tab-assessment').className = "flex-1 py-3 text-center text-sm font-semibold text-slate-500";
            } else {
                document.getElementById('mob-tab-hub').className = "flex-1 py-3 text-center text-sm font-semibold text-slate-500";
                document.getElementById('mob-tab-assessment').className = "flex-1 py-3 text-center text-sm font-semibold text-msBlue bg-blue-50";
            }
            window.scrollTo(0,0);
        }

        // Data: Added Microsoft Learn Links
        const resources = [
            { 
                title: "Identity", 
                icon: "fa-id-card", 
                color: "text-purple-600", 
                desc: "Strong Authentication", 
                items: ["Entra ID (Azure AD)", "MFA Enforcement", "Conditional Access"],
                link: "https://learn.microsoft.com/en-us/security/zero-trust/deploy/identity"
            },
            { 
                title: "Endpoints", 
                icon: "fa-laptop-medical", 
                color: "text-blue-600", 
                desc: "Device Health", 
                items: ["Intune (MDM)", "Defender for Endpoint", "Compliance Policy"],
                link: "https://learn.microsoft.com/en-us/security/zero-trust/deploy/endpoints"
            },
            { 
                title: "Apps", 
                icon: "fa-cubes", 
                color: "text-orange-600", 
                desc: "Shadow IT Control", 
                items: ["Defender for Cloud Apps", "App Proxy", "SSO"],
                link: "https://learn.microsoft.com/en-us/security/zero-trust/deploy/applications"
            },
            { 
                title: "Data", 
                icon: "fa-file-shield", 
                color: "text-green-600", 
                desc: "Information Protection", 
                items: ["Purview Info Protection", "DLP Policies", "Sensitivity Labels"],
                link: "https://learn.microsoft.com/en-us/security/zero-trust/deploy/data"
            },
            { 
                title: "Infrastructure", 
                icon: "fa-server", 
                color: "text-red-600", 
                desc: "Threat Detection", 
                items: ["Defender for Identity", "Azure Arc", "Threat Protection"],
                link: "https://learn.microsoft.com/en-us/security/zero-trust/deploy/infrastructure"
            }
        ];

        const container = document.getElementById('cards-container');
        resources.forEach(item => {
            const card = document.createElement('div');
            card.className = "glass-card rounded-xl p-6 flex flex-col h-full relative group";
            card.innerHTML = `
                <div class="flex items-center gap-3 mb-4">
                    <i class="fa-solid ${item.icon} ${item.color} text-2xl"></i>
                    <h4 class="font-bold text-lg text-slate-800">${item.title}</h4>
                </div>
                <p class="text-xs text-slate-500 uppercase font-semibold mb-3 tracking-wide">${item.desc}</p>
                <ul class="space-y-2 mt-auto mb-4">
                    ${item.items.map(i => `<li class="text-sm text-slate-600 flex items-center gap-2"><i class="fa-solid fa-check text-green-500 text-xs"></i> ${i}</li>`).join('')}
                </ul>
                <a href="${item.link}" target="_blank" class="text-xs font-semibold text-msBlue hover:underline flex items-center gap-1 mt-auto pt-4 border-t border-gray-100">
                    Learn on Microsoft Docs <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
            `;
            container.appendChild(card);
        });

        // Assessment Logic
        function selectOption(category, value, element) {
            document.getElementById(`input-${category}`).value = value;
            const parent = element.parentElement;
            for(let child of parent.children) child.classList.remove('selected');
            element.classList.add('selected');
        }

        function calculateGap() {
            const license = document.getElementById('input-license').value;
            const identity = document.getElementById('input-identity').value;
            const endpoint = document.getElementById('input-endpoint').value;
            const access = document.getElementById('input-access').value;

            if(!license || !identity || !endpoint || !access) {
                alert("Please select all options / ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠");
                return;
            }

            let have = [], need = [], summary = "", recTitle = "", recPrice = "";

            // 1. Identity Logic
            if(identity === 'onprem') { 
                have.push("On-premise AD"); 
                need.push("Setup Hybrid Identity (Entra Connect)"); 
                need.push("Enforce MFA"); 
            } else if(identity === 'hybrid') { 
                have.push("Hybrid Identity"); 
                need.push("Enable Conditional Access"); 
            } else { 
                have.push("Cloud Identity"); 
            }

            // 2. Endpoint Logic
            if(endpoint === 'legacy') { 
                have.push("Legacy AV"); 
                need.push("Deploy Defender for Business/Endpoint"); 
            } else { 
                have.push("Microsoft Defender"); 
                need.push("Onboard devices to Intune"); 
            }

            // 3. Access Logic
            if(access === 'vpn') { 
                have.push("VPN Access"); 
                need.push("Implement App Proxy / ZTNA"); 
            } else if(access === 'none') { 
                have.push("Direct Access (Unsafe)"); 
                need.push("Block Direct Access & Enable MFA"); 
            }

            // 4. Recommendation Logic (Business Premium vs E3 vs E5)
            if(license === 'e5') {
                summary = "Excellent! You have E5. Focus on advanced configuration (P2 features).";
                recTitle = "Optimization & Configuration"; recPrice = "Already Owned";
            } else if(license === 'biz') {
                summary = "Great choice! Business Premium includes Defender for Business (EDR). Ensure Intune is active.";
                recTitle = "Verify Intune & Defender Config"; recPrice = "Already Owned";
            } else if(license === 'e3') {
                summary = "Good Enterprise base, but E3 lacks automated EDR & Risk Identity features found in Biz Premium/E5.";
                recTitle = "Add: M365 E5 Security"; recPrice = "+$12/user";
            } else {
                // If None/Basic
                summary = "Critical Gaps Found. You need a unified security suite.";
                // Recommend Business Premium as default entry point for most
                recTitle = "M365 Business Premium (Best for <300 users)"; 
                recPrice = "~$22.00 /user";
                need.push("Full Tenant Setup");
            }

            document.getElementById('summary-text').innerText = summary;
            document.getElementById('list-have').innerHTML = have.map(t => `<li><i class="fa-solid fa-check text-green-500"></i> ${t}</li>`).join('');
            document.getElementById('list-need').innerHTML = need.map(t => `<li><i class="fa-solid fa-arrow-right text-msBlue"></i> ${t}</li>`).join('');
            document.getElementById('license-rec-title').innerText = recTitle;
            document.getElementById('license-price').innerText = recPrice;

            document.getElementById('assessment-form').classList.add('hidden-view');
            document.getElementById('result-section').classList.remove('hidden-view');
            window.scrollTo(0,0);
        }

        function resetAssessment() {
            document.getElementById('assessment-form').classList.remove('hidden-view');
            document.getElementById('result-section').classList.add('hidden-view');
        }
    </script>
</body>
</html>